from typing import Optional

from sqlalchemy import Column, String, Enum
from sqlalchemy.orm import relationship

from app.db.base_class import Base
import enum


class Roles(str, enum.Enum):
    moderator = "pentester"
    admin = "admin"


class User(Base):
    username: str = Column(String, nullable=True)
    password_hash: str = Column(String)
    role: Roles = Column(Enum(Roles))
    name: Optional[str] = Column(String, nullable=True, default=None)
    email: Optional[str] = Column(String, nullable=True, default=None)
